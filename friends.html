<!doctype html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.css" rel="stylesheet" />
	</head>

	<body>
        <header class="mui-bar mui-bar-nav">
            <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
            <h1 class="mui-title">朋友圈</h1>
        </header>
        <div class="mui-content">
            <!--下拉刷新容器-->
            <div id="refreshContainer" class="mui-content mui-scroll-wrapper">
              <div class="mui-scroll">
                <!--数据列表-->
                <div id="slider" class="mui-slider" >
                  <div class="mui-slider-group mui-slider-loop">
                    <!-- 额外增加的一个节点(循环轮播：第一个节点是最后一张轮播) -->
                    <div class="mui-slider-item mui-slider-item-duplicate">
                      <a href="#">
                        <img src="http:\/\/placehold.it\/400x300">
                      </a>
                    </div>
                    <!-- 第一张 -->
                    <div class="mui-slider-item">
                      <a href="#">
                        <img src="http:\/\/placehold.it\/400x300">
                      </a>
                    </div>
                    <!-- 第二张 -->
                    <div class="mui-slider-item">
                      <a href="#">
                        <img src="http:\">
                      </a>
                    </div>
                    <!-- 第三张 -->
                    <div class="mui-slider-item">
                      <a href="#">
                        <img src="http:\">
                      </a>
                    </div>
                    <!-- 第四张 -->
                    <div class="mui-slider-item">
                      <a href="#">
                        <img src="http:\/\/placehold.it\/400x300">
                      </a>
                    </div>
                    <!-- 额外增加的一个节点(循环轮播：最后一个节点是第一张轮播) -->
                    <div class="mui-slider-item mui-slider-item-duplicate">
                      <a href="#">
                        <img src="http:\/\/placehold.it\/400x300">
                      </a>
                    </div>
                  </div>
                  <div class="mui-slider-indicator">
                    <div class="mui-indicator mui-active"></div>
                    <div class="mui-indicator"></div>
                    <div class="mui-indicator"></div>
                    <div class="mui-indicator"></div>
                  </div>
                </div>
                <ul class="mui-table-view">
                    <li class="mui-table-view-cell mui-media">
                        <a href="javascript:;">
                            <img class="mui-media-object mui-pull-left" src="images/timg.jpg">
                            <div class="mui-media-body">
                                幸福
                                <p class="mui-ellipsis">能和心爱的人一起睡觉，是件幸福的事情；可是，打呼噜怎么办？</p>
                            </div>
                        </a>
                    </li>
                    <li class="mui-table-view-cell mui-media">
                        <a href="javascript:;">
                            <img class="mui-media-object mui-pull-left" src="images/timg.jpg">
                            <div class="mui-media-body">
                                木屋
                                <p class="mui-ellipsis">想要这样一间小木屋，夏天挫冰吃瓜，冬天围炉取暖.</p>
                            </div>
                        </a>
                    </li>
                    <li class="mui-table-view-cell mui-media">
                        <a href="javascript:;">
                            <img class="mui-media-object mui-pull-left" src="images/timg.jpg">
                            <div class="mui-media-body">
                                CBD
                                <p class="mui-ellipsis">烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
                            </div>
                        </a>
                    </li>
                    <li class="mui-table-view-cell mui-media">
                        <a href="javascript:;">
                            <img class="mui-media-object mui-pull-left" src="images/timg.jpg">
                            <div class="mui-media-body">
                                幸福
                                <p class="mui-ellipsis">能和心爱的人一起睡觉，是件幸福的事情；可是，打呼噜怎么办？</p>
                            </div>
                        </a>
                    </li>
                    <li class="mui-table-view-cell mui-media">
                        <a href="javascript:;">
                            <img class="mui-media-object mui-pull-left" src="images/timg.jpg">
                            <div class="mui-media-body">
                                木屋
                                <p class="mui-ellipsis">想要这样一间小木屋，夏天挫冰吃瓜，冬天围炉取暖.</p>
                            </div>
                        </a>
                    </li>
                    <li class="mui-table-view-cell mui-media">
                        <a href="javascript:;">
                            <img class="mui-media-object mui-pull-left" src="images/timg.jpg">
                            <div class="mui-media-body">
                                CBD
                                <p class="mui-ellipsis">烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
                            </div>
                        </a>
                    </li>
                </ul>
              </div>
            </div>
        </div>
		<script src="js/mui.js"></script>
		<script type="text/javascript">
            
                var html=''
            function downFun(){
                setTimeout(function(){
                    
                    for(var i=0;i<3;i++){
                        var lis=document.createElement('li')
                        lis.className="mui-table-view-cell mui-media"
                        html+='<li class="mui-table-view-cell mui-media">'
                        html+='<a href="javascript:;">'
                        html+='<img class="mui-media-object mui-pull-left" src="images/timg.jpg">'
                        html+='<div class="mui-media-body">HKHK'
                        html+='<p class="mui-ellipsis">烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>'
                        html+='</div>'
                        html+='</a>' 
                        lis.innerHTML=html
                    }     
                        mui('.mui-table-view')[0].insertBefore(lis,mui('.mui-table-view')[0].firstChild)
                        mui('#refreshContainer').pullRefresh().endPulldown();
                },2000)
            }
            function upFun(){
                setTimeout(function(){
                    
                    for(var i=0;i<3;i++){
                        var lis=document.createElement('li')
                        lis.className="mui-table-view-cell mui-media"
                        html+='<li class="mui-table-view-cell mui-media">'
                        html+='<a href="javascript:;">'
                        html+='<img class="mui-media-object mui-pull-left" src="images/timg.jpg">'
                        html+='<div class="mui-media-body">HKHK'
                        html+='<p class="mui-ellipsis">烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>'
                        html+='</div>'
                        html+='</a>' 
                        lis.innerHTML=html
                    }     
                        mui('.mui-table-view')[0].appendChild(lis)
                       mui('#refreshContainer').pullRefresh().endPullupToRefresh();
                },2000)
            }
			mui.init({
			  pullRefresh : {
			    container:"#refreshContainer",//下拉刷新容器标识，querySelector能定位的css选择器均可，比如：id、.class等
			    down : {
                    contentdown:'下拉刷新',
                    contentover:'释放刷新',
                    contentrefresh:"正在刷新",
			      style:'circle',//必选，下拉刷新样式，目前支持原生5+ ‘circle’ 样式
			      color:'#2BD009', //可选，默认“#2BD009” 下拉刷新控件颜色
			      height:'50px',//可选,默认50px.下拉刷新控件的高度,
			      callback :downFun//必选，刷新函数，根据具体业务来编写，比如通过ajax从服务器获取新数据；
			    },
                 up : {
                      height:50,//可选.默认50.触发上拉加载拖动距离
                      auto:false,//可选,默认false.自动上拉加载一次
                      contentrefresh : "正在加载...",//可选，正在加载状态时，上拉加载控件上显示的标题内容
                      contentnomore:'没有更多数据了',//可选，请求完毕若没有更多数据时显示的提醒内容；
                      callback :upFun //必选，刷新函数，根据具体业务来编写，比如通过ajax从服务器获取新数据；
                    }
			  }
			});
		</script>
	</body>

</html>
